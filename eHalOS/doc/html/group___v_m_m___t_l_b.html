<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Halos: Transition Lookaside Buffer</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Transition Lookaside Buffer<br>
<small>
[<a class="el" href="group___v_m_m.html">Virtual Memory Management</a>]</small>
</h1>Transition Lookaside Buffer. Manages the 32 data entries of the AVR32 AP7000. Used by memory exception handler.  
<a href="#_details">More...</a>
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gec877369e5e9d5e6e8d6e84089157684"></a><!-- doxytag: member="VMM_TLB::NROFTLBENTRIES" ref="gec877369e5e9d5e6e8d6e84089157684" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___v_m_m___t_l_b.html#gec877369e5e9d5e6e8d6e84089157684">NROFTLBENTRIES</a>&nbsp;&nbsp;&nbsp;32</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">the possible number of loaded Processes as far Memory Management is concerned. <br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">BOOL&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___v_m_m___t_l_b.html#g769f3784ad4e3826035640f257947a48">updateTLB</a> (<a class="el" href="struct_page_table_entry.html">PageTableEntryPtr</a> pPageTableEntry)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___v_m_m___t_l_b.html#gfc514c7439830f42ce18cb81ac95d4db">transformPTEntry</a> (<a class="el" href="struct_page_table_entry.html">PageTableEntryPtr</a> pPTEntry, int *pType, long *pPhysical_addr_base, long *pVirtual_addr_base, struct <a class="el" href="structmmu__tlb__t.html">mmu_tlb_t</a> *pOptions, int *mmuStatus)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">BOOL&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___v_m_m___t_l_b.html#g394e8e5ef0f91baf7ee2e6ffbb41a632">isWiredDown</a> (int index, int type)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">BOOL&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___v_m_m___t_l_b.html#gec5186e1f24ab3de57765267723dfba6">isAccessed</a> (int index, int type)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___v_m_m___t_l_b.html#g2cd5a0e8e26579c35da589d5a35a3567">setNotAccessed</a> (int index, int type)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">BOOL&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___v_m_m___t_l_b.html#g0aef1a11aac9970e992625e68280cad0">InvalidateTLBEntry</a> (<a class="el" href="struct_page_table_entry.html">PageTableEntryPtr</a> pPTEntry)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">BOOL&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___v_m_m___t_l_b.html#g89da6e0c2dad7972fda18e737fb06a84">InvalidateTLB</a> ()</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Transition Lookaside Buffer. Manages the 32 data entries of the AVR32 AP7000. Used by memory exception handler. 
<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>... </dd></dl>
<dl class="author" compact><dt><b>Author:</b></dt><dd>drb8w </dd></dl>
<dl class="version" compact><dt><b>Version:</b></dt><dd>0.0.0.1 </dd></dl>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="g89da6e0c2dad7972fda18e737fb06a84"></a><!-- doxytag: member="TransitionLookasideBuffer.h::InvalidateTLB" ref="g89da6e0c2dad7972fda18e737fb06a84" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL InvalidateTLB           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Invalidates the complete Transition Lookaside Buffer. <dl class="return" compact><dt><b>Returns:</b></dt><dd>TRUE if successful, FALSE otherwise </dd></dl>

</div>
</div><p>
<a class="anchor" name="g0aef1a11aac9970e992625e68280cad0"></a><!-- doxytag: member="TransitionLookasideBuffer.h::InvalidateTLBEntry" ref="g0aef1a11aac9970e992625e68280cad0" args="(PageTableEntryPtr pPTEntry)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL InvalidateTLBEntry           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_page_table_entry.html">PageTableEntryPtr</a>&nbsp;</td>
          <td class="paramname"> <em>pPTEntry</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Invalidates the Transition Lookaside Buffer of the corresponding Page Table Entry. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pPTEntry</em>&nbsp;</td><td>the Page Table Entry in charge </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>TRUE if successful, FALSE otherwise </dd></dl>

</div>
</div><p>
<a class="anchor" name="gec5186e1f24ab3de57765267723dfba6"></a><!-- doxytag: member="TransitionLookasideBuffer.h::isAccessed" ref="gec5186e1f24ab3de57765267723dfba6" args="(int index, int type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL isAccessed           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>type</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Check if the TLB Entry is accessed. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>index</em>&nbsp;</td><td>identifies the TLB Entry </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>type</em>&nbsp;</td><td>MMU_TLB_TYPE_DATA or MMU_TLB_TYPE_INSTRUCTION </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>TRUE if successful, FALSE otherwise </dd></dl>

</div>
</div><p>
<a class="anchor" name="g394e8e5ef0f91baf7ee2e6ffbb41a632"></a><!-- doxytag: member="TransitionLookasideBuffer.h::isWiredDown" ref="g394e8e5ef0f91baf7ee2e6ffbb41a632" args="(int index, int type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL isWiredDown           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>type</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Check if the TLB Entry is wired down. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>index</em>&nbsp;</td><td>identifies the TLB Entry </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>type</em>&nbsp;</td><td>MMU_TLB_TYPE_DATA or MMU_TLB_TYPE_INSTRUCTION </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>TRUE if successful, FALSE otherwise </dd></dl>

</div>
</div><p>
<a class="anchor" name="g2cd5a0e8e26579c35da589d5a35a3567"></a><!-- doxytag: member="TransitionLookasideBuffer.h::setNotAccessed" ref="g2cd5a0e8e26579c35da589d5a35a3567" args="(int index, int type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int setNotAccessed           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>type</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the identified TLB Entry to not accessed. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>index</em>&nbsp;</td><td>identifies the TLB Entry </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>type</em>&nbsp;</td><td>MMU_TLB_TYPE_DATA or MMU_TLB_TYPE_INSTRUCTION </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>MMU_OK if successful </dd></dl>

</div>
</div><p>
<a class="anchor" name="gfc514c7439830f42ce18cb81ac95d4db"></a><!-- doxytag: member="TransitionLookasideBuffer.h::transformPTEntry" ref="gfc514c7439830f42ce18cb81ac95d4db" args="(PageTableEntryPtr pPTEntry, int *pType, long *pPhysical_addr_base, long *pVirtual_addr_base, struct mmu_tlb_t *pOptions, int *mmuStatus)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void transformPTEntry           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_page_table_entry.html">PageTableEntryPtr</a>&nbsp;</td>
          <td class="paramname"> <em>pPTEntry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>pType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long *&nbsp;</td>
          <td class="paramname"> <em>pPhysical_addr_base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long *&nbsp;</td>
          <td class="paramname"> <em>pVirtual_addr_base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmmu__tlb__t.html">mmu_tlb_t</a> *&nbsp;</td>
          <td class="paramname"> <em>pOptions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>mmuStatus</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Transforms own Page Table Entry structure into data structure of <a class="el" href="mmu_8c.html" title="MMU example application.">mmu.c</a> code. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pPTEntry</em>&nbsp;</td><td>the Page Table Entry that should be transformed </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pType</em>&nbsp;</td><td>MMU_TLB_TYPE_DATA or MMU_TLB_TYPE_INSTRUCTION </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pPhysical_addr_base</em>&nbsp;</td><td>the physical base address in <a class="el" href="mmu_8c.html" title="MMU example application.">mmu.c</a> format </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pVirtual_addr_base</em>&nbsp;</td><td>the virtual base address in <a class="el" href="mmu_8c.html" title="MMU example application.">mmu.c</a> format </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pOptions</em>&nbsp;</td><td>defines options for operating on TLB entries </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mmuStatus</em>&nbsp;</td><td>MMU_OK if success, MMU_TLB_MISS otherwise </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="g769f3784ad4e3826035640f257947a48"></a><!-- doxytag: member="TransitionLookasideBuffer.h::updateTLB" ref="g769f3784ad4e3826035640f257947a48" args="(PageTableEntryPtr pPageTableEntry)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL updateTLB           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_page_table_entry.html">PageTableEntryPtr</a>&nbsp;</td>
          <td class="paramname"> <em>pPageTableEntry</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Updates the TLB with the given Page Table Entry. At the moment FIFO is used to skip entries. Later Second Chance to skip page out of TLB search an entry which is not accessed and reset the accessed bit of visited entries. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pPageTableEntry</em>&nbsp;</td><td>the Page Table Entry that must be added in the TLB </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>TRUE id successful, FALSE otherwise </dd></dl>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Thu Feb 5 20:41:40 2009 for Halos by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
