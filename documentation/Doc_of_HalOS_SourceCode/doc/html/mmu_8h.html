<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Halos: E:/Ausbildung/Semester3/Kopie von AVR32_Work1/Halos_Development/src/hal/ports/avr32/ap7x/ap7000/mmu.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>E:/Ausbildung/Semester3/Kopie von AVR32_Work1/Halos_Development/src/hal/ports/avr32/ap7x/ap7000/mmu.h File Reference</h1>MMU example application.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;avr32/io.h&gt;</code><br>
<code>#include &lt;stdint.h&gt;</code><br>

<p>
<a href="mmu_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmmu__tlb__t.html">mmu_tlb_t</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Struct which defines options for operating on TLB entries.  <a href="structmmu__tlb__t.html#_details">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">MMU defines for readable setup. <br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mmu_8h.html#d8b393b9b4cc3742ea0ebd14bc5bb673">mmu_init</a> (int enable, int mode, int segmentation)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Changes mode on the MMU according to input.  <a href="#d8b393b9b4cc3742ea0ebd14bc5bb673"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mmu_8h.html#ca2d93163e27390c1524c0776fc4d9dd">mmu_reset</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Resets the MMU and invalidates all TLB entries.  <a href="#ca2d93163e27390c1524c0776fc4d9dd"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mmu_8h.html#129dfbf48ce190ebbf14cb5950e8f0cc">mmu_search_virtual_ptr</a> (void *virtual_ptr, long *physical_addr)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Search a virtual address and get the physical address from the TLB. The function searches the data TLBs first before searching the instruction TLBs.  <a href="#129dfbf48ce190ebbf14cb5950e8f0cc"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mmu_8h.html#774287d35e3d44f16b948867bcea7f70">mmu_search_physical_ptr</a> (void *physical_ptr, long *virtual_addr)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Search a physical address and get the virtual address from the TLB. The function searches the data TLBs first before searching the instruction TLBs.  <a href="#774287d35e3d44f16b948867bcea7f70"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mmu_8h.html#73dd1cbbb1f348a6a69706775b448443">mmu_lock_entries</a> (int entries, int type)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Locks a specified number of entries.  <a href="#73dd1cbbb1f348a6a69706775b448443"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mmu_8h.html#56a402c481bf73fc848d630aae916880">mmu_add_tlb_entry</a> (long physical_addr_base, long virtual_addr_base, struct <a class="el" href="structmmu__tlb__t.html">mmu_tlb_t</a> *options)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Adds an entry to the TLB.  <a href="#56a402c481bf73fc848d630aae916880"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mmu_8h.html#ff94d347cd9755d3102270a75e61dc47">mmu_read_bear_and_tlbehi</a> (long *bear, long *vpn)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reads the TLBEAR and <a class="el" href="struct_t_l_b_e_h_i.html">TLBEHI</a> registers and place the contents in <code>bear</code> and <code>vpn</code>.  <a href="#ff94d347cd9755d3102270a75e61dc47"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mmu_8h.html#af249de7c8b5dc3e1846975a77103e5f">mmu_find_index_to_entry</a> (long physical_addr, long virtual_addr, long *index)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Search the TLB for an entry matching the given physical and virtual address and return the index.  <a href="#af249de7c8b5dc3e1846975a77103e5f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mmu_8h.html#239a60c95170611179f94a053e8aa9ec">mmu_invalidate_entry</a> (int index, int type)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Invalidates an entry in the TLB.  <a href="#239a60c95170611179f94a053e8aa9ec"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
MMU example application. 
<p>
This file gives an example of using the MMU to manage the memory on AVR32 MCUs.<p>
<ul>
<li>Compiler: IAR EWAAVR32 and GNU GCC for AVR32</li><li>Supported devices: All AVR32 devices with MMU.</li><li>AppNote: AVR32113 Configuration and Use of the Memory Management Unit</li></ul>
<p>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Atmel Corporation: <a href="http://www.atmel.com">http://www.atmel.com</a> <br>
 Support email: <a href="mailto:avr32@atmel.com">avr32@atmel.com</a></dd></dl>
$Name$ <dl class="rcs" compact><dt><b>Revision</b></dt><dd>679 </dd></dl>
$RCSfile$ <dl class="rcs" compact><dt><b>Date</b></dt><dd>2007-10-12 09:44:30 +0200 (Fri, 12 Oct 2007) </dd></dl>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="56a402c481bf73fc848d630aae916880"></a><!-- doxytag: member="mmu.h::mmu_add_tlb_entry" ref="56a402c481bf73fc848d630aae916880" args="(long physical_addr_base, long virtual_addr_base, struct mmu_tlb_t *options)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mmu_add_tlb_entry           </td>
          <td>(</td>
          <td class="paramtype">long&nbsp;</td>
          <td class="paramname"> <em>physical_addr_base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&nbsp;</td>
          <td class="paramname"> <em>virtual_addr_base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmmu__tlb__t.html">mmu_tlb_t</a> *&nbsp;</td>
          <td class="paramname"> <em>options</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Adds an entry to the TLB. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>physical_addr_base</em>&nbsp;</td><td>base address of the physical placement </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>virtual_addr_base</em>&nbsp;</td><td>base address of the virtual placement </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>options</em>&nbsp;</td><td>options to the entry</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Status </dd></dl>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>MMU_OK</em>&nbsp;</td><td>on success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>MMU_ERROR_ARGUMENT</em>&nbsp;</td><td>on invalid arguments </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="af249de7c8b5dc3e1846975a77103e5f"></a><!-- doxytag: member="mmu.h::mmu_find_index_to_entry" ref="af249de7c8b5dc3e1846975a77103e5f" args="(long physical_addr, long virtual_addr, long *index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mmu_find_index_to_entry           </td>
          <td>(</td>
          <td class="paramtype">long&nbsp;</td>
          <td class="paramname"> <em>physical_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&nbsp;</td>
          <td class="paramname"> <em>virtual_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long *&nbsp;</td>
          <td class="paramname"> <em>index</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Search the TLB for an entry matching the given physical and virtual address and return the index. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>physical_addr</em>&nbsp;</td><td>the physical address to find </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>virtual_addr</em>&nbsp;</td><td>the virtual address to find </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>index</em>&nbsp;</td><td>the index of the entry from the search</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Status </dd></dl>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>MMU_OK</em>&nbsp;</td><td>on success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>MMU_TLB_MISS</em>&nbsp;</td><td>on TLB search miss </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="d8b393b9b4cc3742ea0ebd14bc5bb673"></a><!-- doxytag: member="mmu.h::mmu_init" ref="d8b393b9b4cc3742ea0ebd14bc5bb673" args="(int enable, int mode, int segmentation)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mmu_init           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>enable</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>segmentation</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Changes mode on the MMU according to input. 
<p>
This function only changes the mode, it will not invalidate all the TLB entries. If this is needed use the <a class="el" href="mmu_8h.html#ca2d93163e27390c1524c0776fc4d9dd">mmu_reset</a> function to reset the MMU back to default setup.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>enable</em>&nbsp;</td><td>enable or disable the MMU <ul>
<li>MMU_ENABLE </li>
<li>MMU_DISABLE </li>
</ul>
</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mode</em>&nbsp;</td><td>Set the MMU in private virtual mode or 1-shared virtual mode <ul>
<li>MMU_PRIVATE_VIRTUAL_MODE </li>
<li>MMU_SHARED_VIRTUAL_MODE </li>
</ul>
</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>segmentation</em>&nbsp;</td><td>Turns on or off segmentation <ul>
<li>MMU_SEGMENTATION_ON </li>
<li>MMU_SEGMENTATION_OFF</li>
</ul>
</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Status </dd></dl>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>MMU_OK</em>&nbsp;</td><td>on success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>MMU_ERROR</em>&nbsp;</td><td>if unable to initialize the MMU </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="239a60c95170611179f94a053e8aa9ec"></a><!-- doxytag: member="mmu.h::mmu_invalidate_entry" ref="239a60c95170611179f94a053e8aa9ec" args="(int index, int type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mmu_invalidate_entry           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>type</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Invalidates an entry in the TLB. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>index</em>&nbsp;</td><td>the TLB index of the entry to be invalidated </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>type</em>&nbsp;</td><td>data or instruction entries to invalidate <ul>
<li>MMU_TLB_TYPE_INSTRUCTION </li>
<li>MMU_TLB_TYPE_DATA</li>
</ul>
</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Status </dd></dl>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>MMU_OK</em>&nbsp;</td><td>on success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>MMU_ERROR_ARGUMENT</em>&nbsp;</td><td>on invalid argument </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="73dd1cbbb1f348a6a69706775b448443"></a><!-- doxytag: member="mmu.h::mmu_lock_entries" ref="73dd1cbbb1f348a6a69706775b448443" args="(int entries, int type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mmu_lock_entries           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>entries</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>type</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Locks a specified number of entries. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>entries</em>&nbsp;</td><td>number of entries to lock </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>type</em>&nbsp;</td><td>data or instruction entries to lock <ul>
<li>MMU_TLB_TYPE_DATA </li>
<li>MMU_TLB_TYPE_INSTRUCTION </li>
</ul>
</td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="ff94d347cd9755d3102270a75e61dc47"></a><!-- doxytag: member="mmu.h::mmu_read_bear_and_tlbehi" ref="ff94d347cd9755d3102270a75e61dc47" args="(long *bear, long *vpn)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mmu_read_bear_and_tlbehi           </td>
          <td>(</td>
          <td class="paramtype">long *&nbsp;</td>
          <td class="paramname"> <em>bear</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long *&nbsp;</td>
          <td class="paramname"> <em>vpn</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Reads the TLBEAR and <a class="el" href="struct_t_l_b_e_h_i.html">TLBEHI</a> registers and place the contents in <code>bear</code> and <code>vpn</code>. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>bear</em>&nbsp;</td><td>pointer to where to put the TLBEAR data </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>vpn</em>&nbsp;</td><td>pointer to where to put the <a class="el" href="struct_t_l_b_e_h_i.html">TLBEHI</a> data </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="ca2d93163e27390c1524c0776fc4d9dd"></a><!-- doxytag: member="mmu.h::mmu_reset" ref="ca2d93163e27390c1524c0776fc4d9dd" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mmu_reset           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Resets the MMU and invalidates all TLB entries. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Status </dd></dl>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>MMU_OK</em>&nbsp;</td><td>on success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>MMU_ERROR</em>&nbsp;</td><td>if unable to reset the MMU </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="774287d35e3d44f16b948867bcea7f70"></a><!-- doxytag: member="mmu.h::mmu_search_physical_ptr" ref="774287d35e3d44f16b948867bcea7f70" args="(void *physical_ptr, long *virtual_addr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mmu_search_physical_ptr           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>physical_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long *&nbsp;</td>
          <td class="paramname"> <em>virtual_addr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Search a physical address and get the virtual address from the TLB. The function searches the data TLBs first before searching the instruction TLBs. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>physical_ptr</em>&nbsp;</td><td>the physical address to search for </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>virtual_addr</em>&nbsp;</td><td>pointer to a variable the virtual address will be written</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Status </dd></dl>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>MMU_OK</em>&nbsp;</td><td>on success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>MMU_ERROR_ARGUMENT</em>&nbsp;</td><td>on invalid arguments </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>MMU_TLB_MISS</em>&nbsp;</td><td>on TLB search miss </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="129dfbf48ce190ebbf14cb5950e8f0cc"></a><!-- doxytag: member="mmu.h::mmu_search_virtual_ptr" ref="129dfbf48ce190ebbf14cb5950e8f0cc" args="(void *virtual_ptr, long *physical_addr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mmu_search_virtual_ptr           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>virtual_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long *&nbsp;</td>
          <td class="paramname"> <em>physical_addr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Search a virtual address and get the physical address from the TLB. The function searches the data TLBs first before searching the instruction TLBs. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>virtual_ptr</em>&nbsp;</td><td>the virtual address to search for </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>physical_addr</em>&nbsp;</td><td>pointer to a variable the physical address will be written</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Status </dd></dl>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>MMU_OK</em>&nbsp;</td><td>on success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>MMU_ERROR_ARGUMENT</em>&nbsp;</td><td>on invalid arguments </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>MMU_TLB_MISS</em>&nbsp;</td><td>on TLB search miss </td></tr>
  </table>
</dl>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Sun Feb 8 18:43:25 2009 for Halos by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
